<!doctype html><html lang=en><head><title>Getting rid of 'fatal: The current branch &lt;new branch> has no upstream branch' in git :: Roberts blog</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="How to stop Git from nagging about missing upstream branches by automatically setting the upstream for all new branches."><meta name=keywords content><meta name=robots content="noodp"><link rel=canonical href=https://www.robert-sokolewicz.nl/posts/8_git_upstream/><link rel=stylesheet href=https://www.robert-sokolewicz.nl/assets/style.css><link rel=stylesheet href=https://www.robert-sokolewicz.nl/assets/css/hugo-cite.css><link rel=apple-touch-icon href=https://www.robert-sokolewicz.nl/img/apple-touch-icon-192x192.png><link rel="shortcut icon" href=https://www.robert-sokolewicz.nl/img/favicon/orange.png><meta name=twitter:card content="summary"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="og:title" content="Getting rid of 'fatal: The current branch <new branch> has no upstream branch' in git"><meta property="og:description" content="How to stop Git from nagging about missing upstream branches by automatically setting the upstream for all new branches."><meta property="og:url" content="https://www.robert-sokolewicz.nl/posts/8_git_upstream/"><meta property="og:site_name" content="Roberts blog"><meta property="og:image" content="https://www.robert-sokolewicz.nl/img/favicon/orange.png"><meta property="og:image:width" content="2048"><meta property="og:image:height" content="1024"><meta property="article:published_time" content="2023-06-12 00:00:00 +0000 UTC"><script>MathJax={tex:{inlineMath:[['$','$'],['\\(','\\)']],displayMath:[['$$','$$'],['\\[','\\]']],macros:{bb:["{\\boldsymbol{#1}}",1],tr:"{\\DeclareMathOperator{\\tr}{Tr}}",im:"{\\DeclareMathOperator{\\im}{Im}}",re:"{\\DeclareMathOperator{\\re}{Re}}",},processEscapes:true,processEnvironments:true,tags:"ams"},options:{skipHtmlTags:['script','noscript','style','textarea','pre']}};window.addEventListener('load',(event)=>{document.querySelectorAll("mjx-container").forEach(function(x){x.parentElement.classList+='has-jax'})});</script><script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script><script type=text/javascript id=MathJax-script async src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><script type=text/x-mathjax-config>
    MathJax.Hub.Queue(function() {
        // Fix <code> tags after MathJax finishes running. This is a
        // hack to overcome a shortcoming of Markdown. Discussion at
        // https://github.com/mojombo/jekyll/issues/199
        var all = MathJax.Hub.getAllJax(), i;
        for(i = 0; i &lt; all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
    </script></head><body class=orange><div class="container center headings--one-size"><header class=header><div class=header__inner><div class=header__logo><a href=/><div class=logo>Home</div></a></div><div class=menu-trigger>menu</div></div><nav class=menu><ul class="menu__inner menu__inner--desktop"><li><a href=/about>About</a></li><li><a href=/books>Book Reviews</a></li><li><a href=/cv>CV</a></li><li><a href=/physics>Physics</a></li></ul><ul class="menu__inner menu__inner--mobile"><li><a href=/about>About</a></li><li><a href=/books>Book Reviews</a></li><li><a href=/cv>CV</a></li><li><a href=/physics>Physics</a></li></ul></nav></header><div class=content><div class=post><h1 class=post-title><a href=https://www.robert-sokolewicz.nl/posts/8_git_upstream/>Getting rid of &lsquo;fatal: The current branch <new branch>has no upstream branch&rsquo; in git</a></h1><div class=post-meta><span class=post-date>2023-06-12</span>
<span class=post-author>:: Robert</span></div><div class=post-content><div><h1 id=what-is-an-upstream-branch>What is an upstream branch?<a href=#what-is-an-upstream-branch class=hanchor arialabel=Anchor>&#8983;</a></h1><p>In Git, an upstream branch refers to the branch in a remote repository that your local branch is associated with or tracks. It serves as a reference point for your local branch and determines where your changes will be pushed when you use the <code>git push</code> command.</p><p>When you clone a repository, Git sets up a default upstream branch for the branch you&rsquo;re currently on. For example, if you clone a repository and checkout the <code>master</code> branch, your local <code>master</code> branch will typically have an upstream branch called <code>origin/master</code>, where <code>origin</code> is the default name for the remote repository.</p><p>Having an upstream branch allows you to easily push and pull changes between your local branch and the corresponding branch in the remote repository. When you push your local changes using <code>git push</code>, Git knows which remote branch to update based on the upstream branch configuration.</p><p>By default, Git doesn&rsquo;t set an upstream branch when you create a new branch locally. You need to explicitly set the upstream branch using the <code>--set-upstream</code> option when pushing for the first time, like this:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>git push --set-upstream origin your-branch
</code></pre></div><p>or using the <code>-u</code> flag</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>git push -u origin your-branch
</code></pre></div><p>Setting the upstream branch allows you to use <code>git push</code> without specifying the remote branch name every time, as Git will remember the association between your local branch and its upstream branch.</p><h1 id=how-to-automatically-set-the-upstream-branch>How to automatically set the upstream branch<a href=#how-to-automatically-set-the-upstream-branch class=hanchor arialabel=Anchor>&#8983;</a></h1><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>git config --global push.default simple
</code></pre></div><p>To avoid setting upstream explicitly every time you push a new branch, you can configure Git with the push.default option. This option determines the behavior when pushing branches that do not have a configured upstream branch. Here are the possible values for push.default:</p><ul><li><p>nothing: This is the default option. Git won&rsquo;t push any branch without an upstream branch explicitly specified.</p></li><li><p>current: Git pushes the current branch to a branch of the same name on the remote repository, even if it doesn&rsquo;t have an upstream branch.</p></li><li><p>upstream: Git pushes the current branch to its upstream branch, if it has one.</p></li><li><p>simple: This option is recommended. Git pushes the current branch to its upstream branch if it exists. If the upstream branch doesn&rsquo;t exist, it will push to a branch of the same name on the remote repository, creating a new branch if necessary. However, it won&rsquo;t push if the upstream branch&rsquo;s name is different.</p></li></ul></div></div><div class=pagination><div class=pagination__title><span class=pagination__title-h>Read other posts</span><hr></div><div class=pagination__buttons><span class="button previous"><a href=https://www.robert-sokolewicz.nl/posts/9_typehinting/><span class=button__icon>←</span>
<span class=button__text>All about type hinting in Python</span></a></span>
<span class="button next"><a href=https://www.robert-sokolewicz.nl/posts/7_mock_context_manager/><span class=button__text>Mocking context managers with pytest</span>
<span class=button__icon>→</span></a></span></div></div></div></div><footer class=footer><div class=footer__inner><div class=copyright><span>© 2024 Powered by <a href=http://gohugo.io>Hugo</a></span>
<span>:: Theme made by <a href=https://twitter.com/panr>panr</a></span></div></div></footer><script src=https://www.robert-sokolewicz.nl/assets/main.js></script><script src=https://www.robert-sokolewicz.nl/assets/prism.js></script></div></body></html>