<!DOCTYPE html>
<html lang="en">
<head>
  
    <title>Copy large amounts of files over ssh :: Roberts blog</title>
  
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="To copy large amounts of files over ssh you have a few options. The slowest option is using `scp -r` to recursively copy each file one by one, but it is faster and more convenient to first tar or gzip your home directory, copy it over to..." />
<meta name="keywords" content="" />
<meta name="robots" content="noodp" />
<link rel="canonical" href="https://rsokolewicz.github.io/posts/1_copy_large_amounts_of_files/" />




<link rel="stylesheet" href="https://rsokolewicz.github.io/assets/style.css">



<link rel="stylesheet" href="https://rsokolewicz.github.io/assets/css/style.css">
<link rel="stylesheet" href="https://rsokolewicz.github.io/assets/css/hugo-cite.css">


<link rel="apple-touch-icon" href="https://rsokolewicz.github.io/img/apple-touch-icon-192x192.png">

  <link rel="shortcut icon" href="https://rsokolewicz.github.io/img/favicon/orange.png">



<meta name="twitter:card" content="summary" />



<meta property="og:locale" content="en" />
<meta property="og:type" content="article" />
<meta property="og:title" content="Copy large amounts of files over ssh">
<meta property="og:description" content="To copy large amounts of files over ssh you have a few options. The slowest option is using `scp -r` to recursively copy each file one by one, but it is faster and more convenient to first tar or gzip your home directory, copy it over to..." />
<meta property="og:url" content="https://rsokolewicz.github.io/posts/1_copy_large_amounts_of_files/" />
<meta property="og:site_name" content="Roberts blog" />

  <meta property="og:image" content="https://rsokolewicz.github.io">

<meta property="og:image:width" content="2048">
<meta property="og:image:height" content="1024">


  <meta property="article:published_time" content="2022-04-13 00:00:00 &#43;0000 UTC" />













<script>
    MathJax = {
        tex: {
            inlineMath: [['$', '$'], ['\\(', '\\)']],
            displayMath: [['$$', '$$'], ['\\[', '\\]']],
            macros: {
                bb: ["{\\boldsymbol{#1}}", 1],
                tr: "{\\DeclareMathOperator{\\tr}{Tr}}",
                im: "{\\DeclareMathOperator{\\im}{Im}}",
                re: "{\\DeclareMathOperator{\\re}{Re}}",

                
                
                
                
                
                
                
                
                
                
            },
            processEscapes: true,
            processEnvironments: true,
            tags: "ams"
        },
        options: {
            skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre']
        }
    };

    window.addEventListener('load', (event) => {
        document.querySelectorAll("mjx-container").forEach(function (x) {
            x.parentElement.classList += 'has-jax'
        })
    });

</script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script type="text/javascript" id="MathJax-script" async
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        // Fix <code> tags after MathJax finishes running. This is a
        // hack to overcome a shortcoming of Markdown. Discussion at
        // https://github.com/mojombo/jekyll/issues/199
        var all = MathJax.Hub.getAllJax(), i;
        for(i = 0; i &lt; all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
    </script>


</head>
<body class="orange">


<div class="container center headings--one-size">

  <header class="header">
  <div class="header__inner">
    <div class="header__logo">
      <a href="/">
  <div class="logo">
    Home
  </div>
</a>

    </div>
    
      <div class="menu-trigger">menu</div>
    
  </div>
  
    <nav class="menu">
  <ul class="menu__inner menu__inner--desktop">
    
      
        
          <li><a href="/about">About</a></li>
        
      
        
          <li><a href="/books">Book Reviews</a></li>
        
      
        
          <li><a href="/cv">CV</a></li>
        
      
        
          <li><a href="/physics">Physics</a></li>
        
      
      
    

    
  </ul>

  <ul class="menu__inner menu__inner--mobile">
    
      
        <li><a href="/about">About</a></li>
      
    
      
        <li><a href="/books">Book Reviews</a></li>
      
    
      
        <li><a href="/cv">CV</a></li>
      
    
      
        <li><a href="/physics">Physics</a></li>
      
    
    
  </ul>
</nav>

  
</header>


  <div class="content">
    
<div class="post">
  <h1 class="post-title">
    <a href="https://rsokolewicz.github.io/posts/1_copy_large_amounts_of_files/">Copy large amounts of files over ssh</a></h1>
  <div class="post-meta">
    
      <span class="post-date">
        2022-04-13
        
      </span>
    
    
      <span class="post-author">:: Robert</span>
    
    
  </div>

  
  


  

  <div class="post-content"><div>
        <p>To copy large amounts of files over ssh you have a few options. The slowest option is using <code>scp -r</code> to recursively copy each file one by one, but it is faster and more convenient to first tar or gzip your home directory, copy it over to your host computer and unpack it there. This is possible to do in a single line</p>
<pre><code class="language-{bash}" data-lang="{bash}">tar czf - &lt;files&gt; | ssh user@host &quot;tar -C &lt;destination&gt; xvzf -&quot;
</code></pre><p>where <code>&lt;files&gt;</code> are paths to the files and directories to tar and <code>&lt;destination&gt;</code> is the destination folder on the host computer. One downside of this approach is that you won&rsquo;t have a clear indication on how long it will take. An alternative approach is to first tar everything, and then use <code>rsync</code> to send everything over.</p>
<pre><code class="language-{bash}" data-lang="{bash}">tar czf &lt;files&gt;
rsync -av --progress /foo/*.tar.gz user@host:&lt;directory&gt;

```</code></pre>
      </div></div>

  
  
<div class="pagination">
    <div class="pagination__title">
        <span class="pagination__title-h">Read other posts</span>
        <hr />
    </div>
    <div class="pagination__buttons">
        
        <span class="button previous">
            <a href="https://rsokolewicz.github.io/posts/2_query_likelihood/">
                <span class="button__icon">←</span>
                <span class="button__text">The Query Likelihood Model</span>
            </a>
        </span>
        
        
        <span class="button next">
            <a href="https://rsokolewicz.github.io/posts/0_ssh_over_wifi_wsl/">
                <span class="button__text">How to ssh over WiFi between two machines running wsl</span>
                <span class="button__icon">→</span>
            </a>
        </span>
        
    </div>
</div>

  

  
  

  
</div>

  </div>

  
    <footer class="footer">
  <div class="footer__inner">
    
      <div class="copyright">
        <span>© 2023 Powered by <a href="http://gohugo.io">Hugo</a></span>
    
        <span>:: Theme made by <a href="https://twitter.com/panr">panr</a></span>
      </div>
  </div>
</footer>

<script src="https://rsokolewicz.github.io/assets/main.js"></script>
<script src="https://rsokolewicz.github.io/assets/prism.js"></script>







  
</div>

</body>
</html>
